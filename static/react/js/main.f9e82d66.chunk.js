(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{147:function(e){e.exports=JSON.parse('{"v":"5.5.5","fr":25,"ip":0,"op":79,"w":300,"h":150,"nm":"Loading-2","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"icon 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":39,"s":[-90]},{"t":79,"s":[270]}],"ix":10},"p":{"a":0,"k":[150,75,0],"ix":2},"a":{"a":0,"k":[53,53,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-15.464],[15.464,0],[0,15.464],[-15.464,0]],"o":[[0,15.464],[-15.464,0],[0,-15.464],[15.464,0]],"v":[[28,0],[0,28],[-28,0],[0,-28]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53,53],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":51,"s":[0]},{"t":79,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":39,"s":[0]},{"t":64,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":39,"op":79,"st":39,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"icon","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[-90]},{"t":40,"s":[270]}],"ix":10},"p":{"a":0,"k":[150,75,0],"ix":2},"a":{"a":0,"k":[53,53,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-15.464],[15.464,0],[0,15.464],[-15.464,0]],"o":[[0,15.464],[-15.464,0],[0,-15.464],[15.464,0]],"v":[[28,0],[0,28],[-28,0],[0,-28]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53,53],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":12,"s":[0]},{"t":40,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[0]},{"t":25,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":40,"st":0,"bm":0}],"markers":[]}')},421:function(e,t,a){},424:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){},486:function(e,t,a){},488:function(e,t,a){},538:function(e,t,a){},539:function(e,t,a){},540:function(e,t,a){},544:function(e,t,a){},546:function(e,t,a){},547:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),s=a.n(i),c=a(13),o=a(57),l=a(31),u=(a(421),Object(n.createContext)()),m=function(){var e=Object(n.useContext)(u);return Object(n.useLayoutEffect)((function(){e.assignShowNav(!0)}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Home"))},d=a(98),p=a.n(d),f=a(582),b=(a(424),a(27)),g=a.n(b),h=a(38),v=(a(426),function(e){var t=Object(n.useContext)(u),a=Object(n.useState)(0),i=Object(c.a)(a,2),s=i[0],o=i[1],l=Object(n.useState)(0),m=Object(c.a)(l,2),d=m[0],p=m[1],f=Object(n.useState)(0),b=Object(c.a)(f,2),v=b[0],E=b[1],k=Object(n.useState)(0),O=Object(c.a)(k,2),j=O[0],N=O[1],x=Object(n.useState)(0),y=Object(c.a)(x,2),S=y[0],w=y[1],C=Object(n.useState)(0),T=Object(c.a)(C,2),A=T[0],D=T[1],P=Object(n.useState)(0),R=Object(c.a)(P,2),L=R[0],I=R[1],F=Object(n.useState)(0),B=Object(c.a)(F,2),H=B[0],Y=B[1],G=function(){var a=Object(h.a)(g.a.mark((function a(n){var i,c,o,l;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!localStorage.getItem("token")){a.next=22;break}return a.next=4,fetch("/api/predict",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":localStorage.getItem("token")},body:JSON.stringify({pregnancies:s,glucose:d,bloodpressure:v,skinthickness:j,insulin:S,bmi:A,dpf:L,age:H})});case 4:return i=a.sent,a.next=7,i.json();case 7:return c=a.sent,console.log(c[0]),a.next=11,fetch("/api/predictData",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":localStorage.getItem("token")},body:JSON.stringify({pregnancies:s,glucose:d,bp:v,st:j,insulin:S,bmi:A,dpf:L,age:H,result:c[0]})});case 11:return o=a.sent,a.next=14,o.json();case 14:l=a.sent,console.log(l),e.assignPredictResults(1),t.assignPredictionFunction(c[0]),e.assignUpdatePredictHistory(!e.stateUpdatePredictHistory),c[0]?(e.assignResult("Oh no! You have diabetes!"),e.assignResultFace(r.a.createElement("div",{className:"frown-container"}))):(e.assignResult("Great! You don't have diabetes!"),e.assignResultFace(r.a.createElement("div",{className:"smile-container"}))),a.next=23;break;case 22:console.log("You must be logged in to predict.");case 23:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"predictor-form-fill"},r.a.createElement("h1",{className:"predict-title"},"Do you have ",r.a.createElement("span",{className:"predict-title-diabetes"},"diabetes?")),r.a.createElement("form",{onSubmit:G,className:"predict-form"},r.a.createElement("input",{className:"predict-form-item predict-input",type:"text",placeholder:"Pregnancies",onChange:function(e){return o(e.target.value)}}),r.a.createElement("input",{className:"predict-form-item predict-input",type:"text",placeholder:"Glucose",onChange:function(e){return p(e.target.value)}}),r.a.createElement("input",{className:"predict-form-item predict-input",type:"text",placeholder:"Bloodpressure",onChange:function(e){return E(e.target.value)}}),r.a.createElement("input",{className:"predict-form-item predict-input",type:"text",placeholder:"Skinthickness",onChange:function(e){return N(e.target.value)}}),r.a.createElement("input",{className:"predict-form-item predict-input",type:"text",placeholder:"Insulin",onChange:function(e){return w(e.target.value)}}),r.a.createElement("input",{className:"predict-form-item predict-input",type:"text",placeholder:"Bmi",onChange:function(e){return D(e.target.value)}}),r.a.createElement("input",{className:"predict-form-item predict-input",type:"text",placeholder:"Dpf",onChange:function(e){return I(e.target.value)}}),r.a.createElement("input",{className:"predict-form-item predict-input",type:"text",placeholder:"Age",onChange:function(e){return Y(e.target.value)}}),r.a.createElement("button",{className:"predict-form-item predict-button",type:"submit"},"Predict")))}),E=(a(427),function(e){return r.a.createElement("div",{className:"result-container"},r.a.createElement("h1",{className:"result-title"},"Results"),e.stateResultFace,r.a.createElement("h2",null,e.stateResult),r.a.createElement("button",{className:"result-form-item result-back-button",type:"button",onClick:function(){return e.assignPredictResults(0)}},"Back"))}),k=a(100),O=a(166),j=a.n(O),N=(a(486),function(e){var t=Object(n.useState)([{title:"ID",field:"data_id",hidden:!0},{title:"Pregnancies",field:"pregnancies",type:"numeric"},{title:"Glucose",field:"glucose",type:"numeric"},{title:"Bloodpressure",field:"bp",type:"numeric"},{title:"Skin Thickness",field:"st",type:"numeric"},{title:"Insulin",field:"insulin",type:"numeric"},{title:"BMI",field:"bmi",type:"numeric"},{title:"DPF",field:"dpf",type:"numeric"},{title:"Age",field:"age",type:"numeric"},{title:"Date & Time",field:"dateTime",type:"datetime",defaultSort:"desc"},{title:"Result",field:"result",render:function(e){return e.result?r.a.createElement("div",{className:"positive-container"},"POSITIVE"):r.a.createElement("div",{className:"negative-container"},"NEGATIVE")}}]),a=Object(c.a)(t,2),i=a[0],s=(a[1],Object(n.useState)([])),o=Object(c.a)(s,2),l=o[0],u=o[1];Object(n.useEffect)(Object(h.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")){e.next=9;break}return e.next=3,fetch("/api/predictData",{headers:{"x-access-tokens":localStorage.getItem("token")}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,u(a.userData),console.log("updated Prediction History");case 9:case"end":return e.stop()}}),e)}))),[e.stateUpdatePredictHistory]);var m=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/predictData/".concat(t.data_id),{method:"DELETE",headers:{"x-access-tokens":localStorage.getItem("token")}});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(j.a,{title:"Predictions",columns:i,data:l,editable:{onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){if(localStorage.getItem("token")){m(e);var a=Object(k.a)(l),n=e.tableData.id;a.splice(n,1),u(Object(k.a)(a))}t()}),1e3)}))}},options:{rowStyle:function(e){return{backgroundColor:e.tableData.id%2===0?"#f6f6f6":"#e6e6e6"}},exportButton:!0}})}),x=function(){Object(l.f)();var e,t=Object(n.useContext)(u),a=Object(n.useState)(0),i=Object(c.a)(a,2),s=i[0],o=i[1],m=Object(n.useState)(""),d=Object(c.a)(m,2),b=d[0],g=d[1],h=Object(n.useState)(null),k=Object(c.a)(h,2),O=k[0],j=k[1],x=Object(n.useState)(!1),y=Object(c.a)(x,2),S=y[0],w=y[1];Object(n.useLayoutEffect)((function(){t.assignShowNav(!0)}),[]);var C=function(e){o(e)};return s?"Oh no! You have diabetes!"===b?e="predict-inner-red":"Great! You don't have diabetes!"===b&&(e="predict-inner-green"):(console.log("test"),e="predict-inner-white"),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"predict-background-container"}),r.a.createElement("div",{className:"predict-page-main-container"},r.a.createElement("div",{className:"predict-main-container"},r.a.createElement("div",{className:"predict-inner-container ".concat(e)},r.a.createElement(f.a,{in:!s,timeout:1e3,classNames:"predict-transition",unmountOnExit:!0},r.a.createElement("div",{className:"predict-form-position"},r.a.createElement(v,{assignPredictResults:function(e){return C(e)},assignResult:function(e){return function(e){g(e)}(e)},assignResultFace:function(e){return function(e){j(e)}(e)},assignUpdatePredictHistory:function(e){return function(e){w(e)}(e)},stateUpdatePredictHistory:S}))),r.a.createElement(f.a,{in:s,timeout:1e3,classNames:"predict-transition",unmountOnExit:!0},r.a.createElement("div",{className:"predict-form-position"},r.a.createElement(E,{className:"result-component",assignPredictResults:function(e){return C(e)},stateResult:b,stateResultFace:O}))))),r.a.createElement("div",{className:"prediction-hist-main-container"},r.a.createElement(p.a,{fill:"#fff",paused:!1,className:"predictor-wave predictor-wave-1",options:{height:15,amplitude:20,speed:.15,points:4}}),r.a.createElement(p.a,{fill:"#f6f6f6",paused:!1,className:"predictor-wave predictor-wave-2",options:{height:20,amplitude:25,speed:.15,points:3}}),r.a.createElement("h1",{className:"predict-title"},"Prediction History"),r.a.createElement(N,{stateUpdatePredictHistory:S}))))},y=(a(488),a(125)),S=a.n(y),w=a(147),C=function(e){var t,a,i=Object(n.useContext)(u),s=Object(l.f)(),o=Object(n.useState)(""),m=Object(c.a)(o,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(c.a)(f,2),v=b[0],E=b[1],k=Object(n.useState)(!1),O=Object(c.a)(k,2),j=O[0],N=O[1],x=Object(n.useState)(!1),y=Object(c.a)(x,2),C=y[0],T=y[1],A=Object(n.useRef)(null);Object(n.useEffect)((function(){A.current.focus(),e.currentLocation.state&&console.log(e.currentLocation.state.detail)}),[A]);var D={loop:!0,autoplay:!0,animationData:w,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},P=function(){var t=Object(h.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),T(!0),t.next=4,fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:v})});case 4:return n=t.sent,t.next=7,n.json();case 7:if(!(r=t.sent).token){t.next=23;break}return localStorage.setItem("token",r.token),t.next=12,fetch("/api/user",{headers:{"x-access-tokens":r.token}});case 12:return n=t.sent,t.next=15,n.json();case 15:r=t.sent,T(!1),i.assignFName(r.firstName),i.assignLName(r.lastName),e.assignLogNotif([]),e.currentLocation.state&&"DIRECTED"===e.currentLocation.state.detail?s.goBack():s.push("/"),t.next=24;break;case 23:"User is not verified"===r.message?(T(!1),e.assignAuthEmail(d),e.assignLogNotif(["Account not verified!","This account has not yet been verified. If you are the owner of this account and did not recieve a verification email, please click Resend to send another verification link to your email.","warning"])):"A user with this email does not exist."===r.message?(T(!1),e.assignLogNotif(["Account not found!","A user with this email does not exist.","danger"])):"Your email or password is incorrect"===r.message&&(T(!1),e.assignLogNotif(["Invalid Credentials!","Your email or password is incorrect.","danger"]));case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return j?(t=r.a.createElement("div",{className:"hide-password",onClick:function(){return N(!1)}}),a="text"):(t=r.a.createElement("div",{className:"show-password",onClick:function(){return N(!0)}}),a="password"),r.a.createElement("div",{className:"login-container"},r.a.createElement("h1",{className:"welcome-message"},"Welcome"),r.a.createElement("form",{className:"login-form",onSubmit:P},r.a.createElement("input",{ref:A,className:"login-form-item login-input",type:"text",placeholder:"Email",onChange:function(e){return p(e.target.value)}}),r.a.createElement("div",{className:"password-container"},r.a.createElement("input",{className:"password-item login-input",type:a,placeholder:"Password",onChange:function(e){return E(e.target.value)}}),t),r.a.createElement("button",{className:"login-form-item login-button",type:"submit",disabled:C},!C&&"Sign in",C&&r.a.createElement(S.a,{options:D,height:75,width:75}))),r.a.createElement("h5",{className:"forgot-password"},"Forgot your password?"))},T=(a(538),function(e){var t,a,i,s,o,l=Object(n.useState)(""),u=Object(c.a)(l,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(c.a)(p,2),b=f[0],v=f[1],E=Object(n.useState)(""),k=Object(c.a)(E,2),O=k[0],j=k[1],N=Object(n.useState)(""),x=Object(c.a)(N,2),y=x[0],C=x[1],T=Object(n.useState)(""),A=Object(c.a)(T,2),D=A[0],P=A[1],R=Object(n.useState)(""),L=Object(c.a)(R,2),I=L[0],F=L[1],B=Object(n.useState)(0),H=Object(c.a)(B,2),Y=H[0],G=H[1],q=Object(n.useState)(!1),V=Object(c.a)(q,2),U=V[0],_=V[1],J=Object(n.useState)(!1),M=Object(c.a)(J,2),z=M[0],W=M[1],Z=Object(n.useState)(!1),$=Object(c.a)(Z,2),K=$[0],Q=$[1],X=Object(n.useState)(!1),ee=Object(c.a)(X,2),te=(ee[0],ee[1],Object(n.useState)("")),ae=Object(c.a)(te,2),ne=ae[0],re=ae[1],ie=Object(n.useState)(""),se=Object(c.a)(ie,2),ce=se[0],oe=se[1],le=Object(n.useState)(""),ue=Object(c.a)(le,2),me=ue[0],de=ue[1],pe=Object(n.useState)(""),fe=Object(c.a)(pe,2),be=fe[0],ge=fe[1],he=Object(n.useState)(""),ve=Object(c.a)(he,2),Ee=ve[0],ke=ve[1],Oe=Object(n.useState)(""),je=Object(c.a)(Oe,2),Ne=je[0],xe=je[1],ye=Object(n.useState)(""),Se=Object(c.a)(ye,2),we=Se[0],Ce=Se[1],Te=Object(n.useState)(""),Ae=Object(c.a)(Te,2),De=Ae[0],Pe=Ae[1],Re=Object(n.useState)(""),Le=Object(c.a)(Re,2),Ie=Le[0],Fe=Le[1],Be=Object(n.useState)(""),He=Object(c.a)(Be,2),Ye=He[0],Ge=He[1],qe=Object(n.useState)(!1),Ve=Object(c.a)(qe,2),Ue=Ve[0],_e=Ve[1],Je=Object(n.useRef)(null),Me=Object(n.useRef)(null),ze=Object(n.useRef)(null),We="border-normal",Ze="border-normal",$e="border-normal",Ke="border-normal",Qe="border-normal";Object(n.useEffect)((function(){0===Y?Je.current.focus():1===Y?Me.current.focus():ze.current.focus()}),[Y]);var Xe={loop:!0,autoplay:!0,animationData:w,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},et=function(){var t=Object(h.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),_e(!0),Q(!0),rt(),!(ne||ce||me||be||Ee)){t.next=7;break}return _e(!1),t.abrupt("return");case 7:return t.next=9,fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:O,lastName:y,email:m,healthCard:"",phoneNumber:I,password:b,confirmPassword:D})});case 9:return n=t.sent,t.next=12,n.json();case 12:r=t.sent,e.assignAuthEmail(m),_e(!1),"User Created"===r.message?e.assignRegNotif(["Registration Successful!","Thank you for registering ".concat(O,", please verify your account by clicking the verification link sent to your email."),"success"]):"A user with this email already exists."===r.message&&e.assignRegNotif(["Email already in use!","A user with the email ".concat(m," already exists. Please use another email."),"danger"]);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tt=function(e){return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)},at=function(e){return/^\d*$/.test(e)},nt=function(){""!==Ye&&Ge(""),""!==De&&Pe(""),""!==Ie&&Fe(""),""!==Ne&&xe(""),""!==we&&Ce("")},rt=function(){""===b?(ke("A password is required"),G(2),Ge("shake-error")):b.length<8?(ke("The password must be at least 8 characters long"),G(2),Ge("shake-error")):b!==D?(ke("The passwords do not match"),G(2),Ge("shake-error")):(ke(""),Ge("")),""===m?(de("An email is required"),G(1),Pe("shake-error")):tt(m)?(de(""),Pe("")):(de("You have entered an invalid email"),G(1),Pe("shake-error")),at(I)?(ge(""),Fe("")):(ge("The phone number may only contain numbers"),G(1),Fe("shake-error")),""===O?(re("A first name is required"),G(0),xe("shake-error")):(re(""),xe("")),""===y?(oe("A last name is required"),G(0),Ce("shake-error")):(oe(""),Ce(""))};return""===b?"A password is required"!==Ee&&ke("A password is required"):b.length<8?"The password must be at least 8 characters long"!==Ee&&ke("The password must be at least 8 characters long"):b!==D?"The passwords do not match"!==Ee&&ke("The passwords do not match"):""!==Ee&&ke(""),""===m?"An email is required"!==me&&de("An email is required"):tt(m)?""!==me&&de(""):"You have entered an invalid email"!==me&&de("You have entered an invalid email"),at(I)?""!==be&&ge(""):"The phone number may only contain numbers"!==be&&ge("The phone number may only contain numbers"),""===O?"A first name is required"!==ne&&re("A first name is required"):""!==ne&&re(""),""===y?"A last name is required"!==ce&&oe("A last name is required"):""!==ce&&oe(""),U?(s=r.a.createElement("div",{className:"hide-password ".concat(Ye),onClick:function(){return _(!1)}}),a="text"):(s=r.a.createElement("div",{className:"show-password ".concat(Ye),onClick:function(){return _(!0)}}),a="password"),z?(o=r.a.createElement("div",{className:"hide-password ".concat(Ye),onClick:function(){return W(!1)}}),i="text"):(o=r.a.createElement("div",{className:"show-password ".concat(Ye),onClick:function(){return W(!0)}}),i="password"),ne&&(We="border-error"),ce&&(Ze="border-error"),me&&($e="border-error"),be&&(Ke="border-error"),Ee&&(Qe="border-error"),t=0===Y?r.a.createElement("form",{className:"register-form",onSubmit:function(e){e.preventDefault(),G(1),nt()}},r.a.createElement("h5",{className:"input-error-message"},K?ne:null),r.a.createElement("input",{ref:Je,className:"register-form-item register-input ".concat(K?We:"border-normal"," ").concat(Ne),value:O,type:"text",placeholder:"First Name",onChange:function(e){return j(e.target.value)}}),r.a.createElement("h5",{className:"input-error-message"},K?ce:null),r.a.createElement("input",{className:"register-form-item register-input ".concat(K?Ze:"border-normal"," ").concat(we),value:y,type:"text",placeholder:"Last Name",onChange:function(e){return C(e.target.value)}}),r.a.createElement("div",{className:"submission-buttons"},r.a.createElement("button",{className:"register-form-item register-button",type:"submit"},"Next"))):1===Y?r.a.createElement("form",{className:"register-form",onSubmit:function(e){e.preventDefault(),G(2),nt()}},r.a.createElement("h5",{className:"input-error-message"},K?me:null),r.a.createElement("input",{ref:Me,className:"register-form-item register-input ".concat(K?$e:"border-normal"," ").concat(De),value:m,type:"text",placeholder:"Email",onChange:function(e){return d(e.target.value)}}),r.a.createElement("h5",{className:"input-error-message"},K?be:null),r.a.createElement("input",{className:"register-form-item register-input ".concat(K?Ke:"border-normal"," ").concat(Ie),value:I,type:"text",placeholder:"Phone Number",onChange:function(e){return F(e.target.value)}}),r.a.createElement("div",null),r.a.createElement("div",{className:"submission-buttons"},r.a.createElement("button",{className:"register-form-item back-button",type:"button",onClick:function(){return G(0)}},"Back"),r.a.createElement("div",{className:"register-form-item"}),r.a.createElement("button",{className:"register-form-item register-button",type:"submit"},"Next"))):r.a.createElement("form",{className:"register-form",onSubmit:et},r.a.createElement("h5",{className:"input-error-message"},K?Ee:null),r.a.createElement("div",{className:"password-container"},r.a.createElement("input",{ref:ze,className:"password-item register-input ".concat(K?Qe:"border-normal"," ").concat(Ye),type:a,value:b,placeholder:"Password",onChange:function(e){return v(e.target.value)}}),s),r.a.createElement("div",{className:"password-container"},r.a.createElement("input",{className:"password-item register-input ".concat(K?Qe:"border-normal"," ").concat(Ye),type:i,value:D,placeholder:"Confirm Password",onChange:function(e){return P(e.target.value)}}),o),undefined,r.a.createElement("div",{className:"submission-buttons"},r.a.createElement("button",{className:"register-form-item back-button",type:"button",onClick:function(){return G(1)}},"Back"),r.a.createElement("div",{className:"register-form-item"}),r.a.createElement("button",{className:"register-form-item register-button",type:"submit",disabled:Ue},!Ue&&"Sign up",Ue&&r.a.createElement(S.a,{options:Xe,height:75,width:75})))),r.a.createElement("div",{className:"register-container"},r.a.createElement("h1",{className:"welcome-message"},"Create account"),t)}),A=a(580),D=a(406),P=(a(539),function(e){var t,a,i,s,m=Object(n.useContext)(u),d=Object(l.g)(),p=Object(n.useState)(!1),b=Object(c.a)(p,2),v=b[0],E=b[1],k=Object(n.useState)([]),O=Object(c.a)(k,2),j=O[0],N=O[1],x=Object(n.useState)([]),y=Object(c.a)(x,2),P=y[0],R=y[1],L=Object(n.useState)(!1),I=Object(c.a)(L,2),F=I[0],B=I[1],H=Object(n.useState)(!1),Y=Object(c.a)(H,2),G=Y[0],q=Y[1],V=Object(n.useState)(""),U=Object(c.a)(V,2),_=U[0],J=U[1],M=Object(n.useState)(!1),z=Object(c.a)(M,2),W=z[0],Z=z[1],$=e.match.params.token;Object(n.useLayoutEffect)((function(){m.assignShowNav(!1),"register"===$?E(!0):"login"===$&&E(!1)}),[]),Object(n.useEffect)(Object(h.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")&&(localStorage.removeItem("token"),m.assignFName(""),m.assignLName("")),!$){e.next=10;break}if("register"===$||"login"===$){e.next=10;break}return e.next=5,fetch("/api/confirm_email/".concat($));case 5:return t=e.sent,e.next=8,t.json();case 8:"token_expired"===(a=e.sent).message?(R(["Verification Token Expired!","Your verification token session has expired. Please press Resend to send another verification link to your email.","danger"]),q(!0)):"email_already_confirmed"===a.message?(R(["Account already verified!","You have already verified this account.","warning"]),q(!0)):"email_confirm_success"===a.message&&(R(["Account verified successfully!","Thank you for verifying your account. You may now log in.","success"]),q(!0));case 10:case"end":return e.stop()}}),e)}))),[]),window.addEventListener("resize",(function(){document.body.classList.add("resize-animation-stopper"),clearTimeout(a),a=setTimeout((function(){document.body.classList.remove("resize-animation-stopper")}),400)}));var K={loop:!0,autoplay:!0,animationData:w,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},Q=function(e){J(e)},X=function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.next=3,fetch("/api/resendToken",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:_})});case 3:return t=e.sent,e.next=6,t.json();case 6:e.sent,Z(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t=v?r.a.createElement("div",{className:"gradient-display-background gradient-display-background-register"},r.a.createElement("div",{className:"gradient-display gradient-display-register-rtrue"},r.a.createElement("h1",{className:"gradient-display-text"},"Already have an account?"),r.a.createElement("button",{onClick:function(){B(!1),N([]),E(!1)},className:"gradient-display-button gradient-display-button-red"},"Login")),r.a.createElement("div",{className:"gradient-display gradient-display-register-bfalse"})):r.a.createElement("div",{className:"gradient-display-background gradient-display-background-login"},r.a.createElement("div",{className:"gradient-display gradient-display-login-rfalse"}),r.a.createElement("div",{className:"gradient-display gradient-display-login-btrue"},r.a.createElement("h1",{className:"gradient-display-text"},"Don't have an account?"),r.a.createElement("button",{onClick:function(){q(!1),R([]),E(!0)},className:"gradient-display-button gradient-display-button-blue"},"Register"))),j.length&&(i=r.a.createElement(A.a,{className:"alert-align auth-index",variant:j[2],onClose:function(){return B(!0),void N([])},dismissible:!0},r.a.createElement(A.a.Heading,null,j[0]),r.a.createElement("p",null,j[1]),"Registration Successful!"===j[0]&&r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(D.a,{onClick:function(){return X()},variant:"outline-success",disabled:W},!W&&"Resend",W&&r.a.createElement(S.a,{options:K,height:35,width:35})))),!0!==F&&B(!0)),P.length&&(s=r.a.createElement(A.a,{className:"alert-align",variant:P[2],onClose:function(){return q(!0),void R([])},dismissible:!0},r.a.createElement(A.a.Heading,null,P[0]),r.a.createElement("p",null,P[1]),"Account not verified!"===P[0]&&r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(D.a,{onClick:function(){return X()},variant:"outline-warning",disabled:W},!W&&"Resend",W&&r.a.createElement(S.a,{options:K,height:35,width:35})))),!0!==G&&q(!0)),r.a.createElement("div",{className:"auth-container"},r.a.createElement(o.b,{className:"auth-logo ".concat(v?"auth-logo-register":"auth-logo-login"),to:"/"},"Diabetes Doctor"),t,r.a.createElement("div",{className:"fill"},r.a.createElement(f.a,{in:v,timeout:500,classNames:"reg-transition",unmountOnExit:!0},r.a.createElement("div",{className:"auth-notification-container"},F&&i)),r.a.createElement(f.a,{in:v,timeout:500,classNames:"reg-transition",unmountOnExit:!0},r.a.createElement(T,{assignRegNotif:function(e){return function(e){N(e)}(e)},assignAuthEmail:function(e){return Q(e)}}))),r.a.createElement("div",{className:"fill"},r.a.createElement(f.a,{in:!v,timeout:500,classNames:"login-transition",unmountOnExit:!0},r.a.createElement("div",{className:"auth-notification-container"},G&&s)),r.a.createElement(f.a,{in:!v,timeout:500,classNames:"login-transition",unmountOnExit:!0},r.a.createElement(C,{assignLogNotif:function(e){return function(e){R(e)}(e)},assignAuthEmail:function(e){return Q(e)},currentLocation:d}))))}),R=a(581),L=a(577),I=a(578),F=(a(540),function(){var e=Object(n.useContext)(u),t=Object(n.useState)("Home"),a=Object(c.a)(t,2),i=a[0],s=a[1],l=Object(n.useState)(),m=Object(c.a)(l,2),d=m[0],f=m[1],b=Object(n.useState)(!1),v=Object(c.a)(b,2),E=v[0],k=v[1];Object(n.useEffect)(Object(h.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.getItem("token")){t.next=11;break}if(""!==e.stateFName||""!==e.stateLName){t.next=7;break}return t.next=4,O();case 4:a=t.sent,t.next=8;break;case 7:a=[e.stateFName,e.stateLName];case 8:a.length>0?N(a):(console.log("working"),j()),t.next=12;break;case 11:j();case 12:case"end":return t.stop()}}),t)}))),[i,E]);var O=function(){var t=Object(h.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/user",{headers:{"x-access-tokens":localStorage.getItem("token")}});case 2:return a=t.sent,t.next=5,a.json();case 5:if("Token is invalid"!==(n=t.sent).message&&"Token is missing"!==n.message){t.next=11;break}return console.log(n.message),t.abrupt("return",[]);case 11:return console.log(n.firstName),console.log(n.lastName),e.assignFName(n.firstName),e.assignLName(n.lastName),t.abrupt("return",[n.firstName,n.lastName]);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){f(r.a.createElement(n.Fragment,null,r.a.createElement(R.a.Link,null,r.a.createElement(o.b,{to:"/auth/register",onClick:function(){return s("Home")},className:"navbar-item-button-c"},r.a.createElement("button",{className:"navbar-signup-c"},"Sign up"))),r.a.createElement(R.a.Link,null,r.a.createElement(o.b,{to:{pathname:"/auth/login",state:{detail:"DIRECTED"}},onClick:function(){return s("Home")},className:"navbar-item-button-c"},r.a.createElement("button",{className:"navbar-signin-c navbar-signin-colour"},"Sign in")))))},N=function(t){f(r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{alignRight:!0,title:"Welcome, ".concat(t[0]," ").concat(t[1]),id:"collasible-nav-dropdown",className:"navbar-profile-dropdown"},r.a.createElement(L.a.Item,{onClick:function(){return localStorage.removeItem("token"),e.assignFName(""),e.assignLName(""),void k(!E)}},"Sign out"))))};return r.a.createElement("div",{className:"nav-inner"},r.a.createElement(I.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",className:"".concat("Predictor"===i?"navbar-b":"navbar-r")},r.a.createElement(I.a.Brand,null,r.a.createElement(o.b,{to:"/",onClick:function(){return s("Home")},className:"navbar-item-c navbar-item-width-height navbar-title"},"Diabetes Doctor")),r.a.createElement(I.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(I.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(R.a,{className:"m-auto navbar-item-font"},r.a.createElement(R.a.Link,null,r.a.createElement(o.b,{to:"/predict",onClick:function(){return s("Predictor")},className:"navbar-item-c navbar-item-width-height ".concat("Predictor"===i?"navbar-selected":"navbar-item-normal")},"Predictor")),r.a.createElement(R.a.Link,null,r.a.createElement(o.b,{to:"/track",onClick:function(){return s("Tracker")},className:"navbar-item-c navbar-item-width-height ".concat("Tracker"===i?"navbar-selected":"navbar-item-normal")},"Tracker"))),r.a.createElement(R.a,null,d)),r.a.createElement(p.a,{fill:"#fff",paused:!1,className:"navbar-wave navbar-wave-1",options:{height:15,amplitude:20,speed:.15,points:4}}),r.a.createElement(p.a,{fill:"#f6f6f6",paused:!1,className:"navbar-wave navbar-wave-2",options:{height:20,amplitude:25,speed:.15,points:3}})))}),B=function(){var e=Object(n.useState)([{title:"Daily Glucose",field:"dailyGlucose",type:"numeric"},{title:"Hours",field:"hours",type:"numeric"},{title:"Weight",field:"weight",type:"numeric"},{title:"Height",field:"height",type:"numeric"},{title:"Date & Time",field:"dateTested",type:"numeric"}]),t=Object(c.a)(e,2),a=t[0],i=(t[1],Object(n.useState)([])),s=Object(c.a)(i,2),o=s[0],l=s[1];Object(n.useEffect)(Object(h.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")){e.next=9;break}return e.next=3,fetch("/api/trackDataAll",{headers:{"x-access-tokens":localStorage.getItem("token")}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,l(a.userData),console.log("updated Tracker Table");case 9:case"end":return e.stop()}}),e)}))),[]);return r.a.createElement(j.a,{title:"Tracker",columns:a,data:o,editable:{onRowAdd:function(e){return new Promise((function(t,a){setTimeout((function(){l([].concat(Object(k.a)(o),[e])),t()}),1e3)}))},onRowUpdate:function(e,t){return new Promise((function(a,n){setTimeout((function(){var n=Object(k.a)(o);n[t.tableData.id]=e,l(Object(k.a)(n)),a()}),1e3)}))},onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){if(localStorage.getItem("token")){var a=Object(k.a)(o),n=e.tableData.id;a.splice(n,1),l(Object(k.a)(a))}t()}),1e3)}))}},options:{rowStyle:function(e){return{backgroundColor:e.tableData.id%2===0?"#f6f6f6":"#e6e6e6"}},exportButton:!0,pageSize:10}})},H=(a(544),function(){Object(l.f)();var e=Object(n.useContext)(u);return Object(n.useLayoutEffect)((function(){e.assignShowNav(!0)}),[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"tracker-background-container"}),r.a.createElement("div",{className:"tracker-page-main-container"},r.a.createElement("div",{className:"tracker-main-container"},r.a.createElement(B,null)),r.a.createElement("div",{className:"tracker-hist-main-container"},r.a.createElement(p.a,{fill:"#fff",paused:!1,className:"tracker-wave tracker-wave-1",options:{height:15,amplitude:20,speed:.15,points:4}}),r.a.createElement(p.a,{fill:"#f6f6f6",paused:!1,className:"tracker-wave tracker-wave-2",options:{height:20,amplitude:25,speed:.15,points:3}}))))});var Y=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(!0),d=Object(c.a)(s,2),p=d[0],f=d[1],b=Object(n.useState)(),g=Object(c.a)(b,2),h=g[0],v=g[1],k=Object(n.useState)(""),O=Object(c.a)(k,2),j=O[0],N=O[1],y=Object(n.useState)(""),S=Object(c.a)(y,2),w=S[0],C=S[1];return r.a.createElement(u.Provider,{value:{statePrediction:a,assignPredictionFunction:function(e){return function(e){i(e)}(e)},stateToken:h,assignTokenFunction:function(e){return function(e){v(e)}(e)},stateNav:p,assignShowNav:function(e){return function(e){f(e)}(e)},stateFName:j,assignFName:function(e){return function(e){N(e)}(e)},stateLName:w,assignLName:function(e){return function(e){C(e)}(e)}}},r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},p&&r.a.createElement(F,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:m}),r.a.createElement(l.a,{exact:!0,path:"/predict",component:x}),r.a.createElement(l.a,{exact:!0,path:"/track",component:H}),r.a.createElement(l.a,{exact:!0,path:"/results",component:E}),r.a.createElement(l.a,{exact:!0,path:"/auth/:token?",component:P})))))};a(545),a(546);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root"))}},[[547,1,2]]]);
//# sourceMappingURL=main.f9e82d66.chunk.js.map